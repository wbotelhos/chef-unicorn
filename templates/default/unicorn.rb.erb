<% if @worker_processes %>
worker_processes <%= @worker_processes %>
<% end -%>

<% if @user %>
user <%= @user %>
<% end -%>

<% if @working_directory %>
working_directory <%= @working_directory.inspect %>
<% end -%>

<% if @listen %>
listen <%= @listen.inspect %> <%= @backlog ? ", :backlog => #{@backlog}" : '' %>
<% end -%>

<% if @timeout %>
timeout <%= @timeout %>
<% end -%>

<% if @pid %>
pid <%= @pid.inspect %>
<% end -%>

<% if @stderr_path %>
stderr_path <%= @stderr_path.inspect %>
<% end -%>

<% if @stdout_path %>
stdout_path <%= @stdout_path.inspect %>
<% end -%>

<% if defined? @preload_app %>
preload_app <%= @preload_app %>
<% end -%>

<% if defined? @check_client_connection %>
  check_client_connection <%= @check_client_connection %>
<% end -%>

<% if @before_fork %>
before_fork do |server, worker|
<%= @before_fork %>
end
<% end -%>

<% if @after_fork %>
after_fork do |server, worker|
<%= @after_fork %>
end
<% end -%>
